# VS Code

You can find the complete VS Code MCP documentation [here](https://code.visualstudio.com/docs/copilot/chat/mcp-servers#_use-mcp-tools-in-agent-mode).

## Install VS Code

Download VS Code from the [official site](https://code.visualstudio.com/Download) and install it.

## Install GitHub Copilot Extension

To use MCP tools and Agent mode in VS Code, you need an active [GitHub Copilot](https://github.com/features/copilot) subscription. Then, install the [GitHub Copilot Chat](https://marketplace.visualstudio.com/items?itemName=GitHub.copilot-chat) extension from the VS Code Marketplace.

## Configure Jupyter MCP Server

There are two ways to configure the Jupyter MCP Server in VS Code: user settings or workspace settings. Once configured, restart VS Code.

:::note

We explicitely use the name `DatalayerJupyter` as VS Code has already a `Jupyter` MCP Server configured by default for the VS Code built-in notebooks.

:::

### As User Settings in `settings.json`

Open your `settings.json`:

- Press `Ctrl+Shift+P` (or `⌘⇧P` on macOS) to open the **Command Palette**
- Type and select: **Preferences: Open Settings (JSON)**
  [Or click this command link inside VS Code](command:workbench.action.openSettingsJson)

Then add the following configuration:

```jsonc
{
  "mcp": {
    "servers": {
    "DatalayerJupyter": {
      "command": "docker",
      "args": [
        "run",
        "-i",
        "--rm",
        "-e",
        "DOCUMENT_URL",
        "-e",
        "DOCUMENT_TOKEN",
        "-e",
        "DOCUMENT_ID",
        "-e",
        "RUNTIME_URL",
        "-e",
        "RUNTIME_TOKEN",
        "datalayer/jupyter-mcp-server:latest"
      ],
      "env": {
        "DOCUMENT_URL": "http://host.docker.internal:8888",
        "DOCUMENT_TOKEN": "MY_TOKEN",
        "DOCUMENT_ID": "notebook.ipynb",
        "RUNTIME_URL": "http://host.docker.internal:8888",
        "RUNTIME_TOKEN": "MY_TOKEN"
      }
    }
  }
}
```

Update with the actual configuration details from the [Jupyter MCP Server configuration](/setup/jupyter/local_mcp#setup-jupyter-mcp-server).

###  As Workspace Settings in `.vscode/mcp.json`

Open or create a `.vscode/mcp.json` file in your workspace root directory. Then add the following example configuration:

```jsonc
{
  "servers": {
    "DatalayerJupyter": {
      "command": "docker",
      "args": [
        "run",
        "-i",
        "--rm",
        "-e",
        "DOCUMENT_URL",
        "-e",
        "DOCUMENT_TOKEN",
        "-e",
        "DOCUMENT_ID",
        "-e",
        "RUNTIME_URL",
        "-e",
        "RUNTIME_TOKEN",
        "datalayer/jupyter-mcp-server:latest"
      ],
      "env": {
        "DOCUMENT_URL": "http://host.docker.internal:8888",
        "DOCUMENT_TOKEN": "MY_TOKEN",
        "DOCUMENT_ID": "notebook.ipynb",
        "RUNTIME_URL": "http://host.docker.internal:8888",
        "RUNTIME_TOKEN": "MY_TOKEN"
      }
    }
  }
}
```

Update with the actual configuration details from the [Jupyter MCP Server configuration](/setup/jupyter/local_mcp#setup-jupyter-mcp-server).

This enables workspace-specific configuration and sharing.

## Use MCP Tools in Agent Mode

1. Launch Copilot Chat (`Ctrl+Alt+I` / `⌃⌘I`)
2. Switch to **Agent** mode from the dropdown
3. Click the **Tools** ⚙️ icon to manage Jupyter MCP Server tools
4. Use `#toolName` to invoke tools manually, or let Copilot invoke them automatically
5. Confirm tool actions when prompted (once or always)
